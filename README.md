# Slither.io Telegram MiniApp

Telegram MiniApp с игрой Slither.io и ботом для запуска на Railway.

## Установка

1. Установите зависимости:
```bash
npm install
```

2. Создайте файл `.env` с переменными:
```
BOT_TOKEN=your_bot_token
BOT_USERNAME=your_bot_username
WEBAPP_URL=https://your-app.up.railway.app
NODE_ENV=production
PORT=8080
```

3. Запустите сервер:
```bash
npm start
```

## Развертывание на Railway

1. Подключите репозиторий к Railway
2. Добавьте переменные окружения в настройках проекта:
   - `BOT_TOKEN` - токен вашего Telegram бота
   - `BOT_USERNAME` - username бота (опционально)
   - `WEBAPP_URL` - URL вашего приложения на Railway
   - `NODE_ENV=production`
   - `PORT=8080` (Railway автоматически установит порт)
3. Railway автоматически развернет приложение

## Функции

### Telegram Бот
- Команда `/start` с приветственным сообщением
- Кнопка для открытия MiniApp

### MiniApp
- **Главное меню:**
  - Кнопка "Играть" по центру
  - Баланс USDT в правом верхнем углу
  - Ник игрока в левом верхнем углу (автоматически из Telegram)
  - Кнопка со скинами в нижнем левом углу

- **Система ставок:**
  - Выбор ставки: 1, 4, 7, 10 USDT
  - Автоматическое распределение по серверам в зависимости от ставки
  - Создание новых серверов при заполнении (максимум 20 игроков на сервер)
  - Минимум 8 игроков для начала игры

- **Игровой процесс:**
  - Классический геймплей Slither.io
  - Мультиплеер на 10-20 игроков на одной карте
  - Отображение ников и USDT над каждым червяком
  - Сбор USDT после смерти других игроков
  - Увеличение USDT при сборе с мертвых змеек
  - Выход из игры доступен только через 5 минут после начала

- **Визуальные эффекты:**
  - Плавная анимация
  - Градиенты и эффекты свечения
  - Адаптивная камера
  - Оптимизированная отрисовка

## Технические детали

- **Сервер:** Node.js + Express + WebSocket
- **Клиент:** HTML5 Canvas + WebSocket
- **Бот:** node-telegram-bot-api
- **Развертывание:** Railway

## Структура проекта

```
.
├── server/
│   └── index.js          # Серверная часть (Express + WebSocket + Bot)
├── public/
│   ├── index.html        # HTML интерфейс MiniApp
│   └── game.js           # Клиентская логика игры
├── package.json
├── railway.json          # Конфигурация Railway
└── README.md
```

## Особенности реализации

- Без логирования в консоль (как требовалось)
- Оптимизированная физика игры
- Эффективная система столкновений
- Автоматическое управление серверами
- Плавная синхронизация между клиентами
