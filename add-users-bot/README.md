# Telegram Bot для добавления пользователей в чаты/каналы

Бот для автоматического добавления пользователей в Telegram группы и каналы по их юзернеймам.

## Установка

1. Установите зависимости:
```bash
npm install
```

2. Создайте файл `.env`:
```bash
cp .env.example .env
```

3. Добавьте токен вашего бота в `.env`:
```
BOT_TOKEN=your_bot_token_here
```

4. Запустите бота:
```bash
npm start
```

## Как получить токен бота

1. Откройте [@BotFather](https://t.me/BotFather) в Telegram
2. Отправьте команду `/newbot`
3. Следуйте инструкциям для создания бота
4. Скопируйте полученный токен в файл `.env`

## Использование

### 1. Установка чата/канала

Отправьте команду `/setchat` в том чате или канале, куда хотите добавлять пользователей.

**Важно:** Бот должен быть администратором этого чата/канала с правами на добавление участников.

### 2. Добавление пользователей

Используйте команду `/add` с юзернеймами:

```
/add @username          - добавить одного пользователя
/add @user1 @user2 @user3  - добавить несколько пользователей
```

### 3. Проверка текущего чата

```
/list  - показать текущий установленный чат
```

## Команды

- `/start` - Начать работу с ботом
- `/help` - Показать справку
- `/setchat` - Установить чат/канал для добавления (использовать в нужном чате)
- `/add @username` - Добавить пользователя(ей) по юзернейму
- `/list` - Показать текущий установленный чат

## Требования

- ✅ Бот должен быть администратором чата/канала
- ✅ У бота должны быть права на добавление участников
- ✅ Пользователи должны существовать в Telegram
- ✅ Пользователи не должны блокировать бота

## Ограничения

- Бот может добавлять пользователей только в те чаты/каналы, где он является администратором
- Пользователи с ограничениями приватности могут не быть добавлены
- Telegram API имеет ограничения на частоту запросов (rate limits)

## Развертывание

### На Railway

1. Подключите репозиторий к Railway
2. Добавьте переменную окружения `BOT_TOKEN`
3. Railway автоматически развернет бота

### На VPS

1. Загрузите файлы на сервер
2. Установите зависимости: `npm install`
3. Создайте `.env` файл с токеном
4. Запустите: `npm start`
5. Для постоянной работы используйте PM2: `pm2 start index.js`

## Примеры использования

```
# В группе/канале:
/setchat

# Затем в личных сообщениях с ботом или в группе:
/add @john_doe
/add @alice @bob @charlie
```

## Решение проблем

### Бот не может добавить пользователя

- Проверьте, что бот является администратором
- Убедитесь, что у бота есть права на добавление участников
- Проверьте, что пользователь существует и не блокирует бота
- Убедитесь, что пользователь не находится в черном списке чата

### Ошибка "user not found"

- Проверьте правильность написания юзернейма (без @ в команде)
- Убедитесь, что пользователь существует в Telegram
- Проверьте, что пользователь не удалил свой аккаунт
